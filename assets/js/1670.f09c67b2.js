(self.webpackChunk_urturn_docs=self.webpackChunk_urturn_docs||[]).push([[1670],{9109:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var s=n(5773),i=n(808),r=n(7378),o=n(8944),a=n(2267),c=n(6749);const u=(0,n(8551).ZP)();var l=n(8265),d=n(7029),h=n(3772),p=n(7011);const f=(t,e,n)=>{const s=t.keys[0];if(Array.isArray(e))e.forEach(((e,s)=>{n(((e,n)=>{s<=t.keys.length-1&&(0===s?Object.assign(e,n):e[t.up(t.keys[s])]=n)}),e)}));else if(e&&"object"==typeof e){(Object.keys(e).length>t.keys.length?t.keys:(i=t.keys,r=Object.keys(e),i.filter((t=>r.includes(t))))).forEach((i=>{if(-1!==t.keys.indexOf(i)){const r=e[i];void 0!==r&&n(((e,n)=>{s===i?Object.assign(e,n):e[t.up(i)]=n}),r)}}))}else"number"!=typeof e&&"string"!=typeof e||n(((t,e)=>{Object.assign(t,e)}),e);var i,r},m=({theme:t,ownerState:e})=>{const n={};return f(t.breakpoints,e.gridSize,((t,s)=>{let i={};!0===s&&(i={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===s&&(i={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"==typeof s&&(i={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${s} / var(--Grid-columns)${e.nested&&e.container?" + var(--Grid-columnSpacing)":""})`}),t(n,i)})),n},g=({theme:t,ownerState:e})=>{const n={};return f(t.breakpoints,e.gridOffset,((t,e)=>{let s={};"auto"===e&&(s={marginLeft:"auto"}),"number"==typeof e&&(s={marginLeft:0===e?"0px":`calc(100% * ${e} / var(--Grid-columns))`}),t(n,s)})),n},S=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={"--Grid-columns":12};return f(t.breakpoints,e.columns,((t,e)=>{t(n,{"--Grid-columns":e})})),n},v=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return f(t.breakpoints,e.rowSpacing,((e,s)=>{var i;e(n,{"--Grid-rowSpacing":"string"==typeof s?s:null==(i=t.spacing)?void 0:i.call(t,s)})})),n},b=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return f(t.breakpoints,e.columnSpacing,((e,s)=>{var i;e(n,{"--Grid-columnSpacing":"string"==typeof s?s:null==(i=t.spacing)?void 0:i.call(t,s)})})),n},y=({theme:t,ownerState:e})=>{if(!e.container)return{};const n={};return f(t.breakpoints,e.direction,((t,e)=>{t(n,{flexDirection:e})})),n},w=({ownerState:t})=>(0,s.Z)({minWidth:0,boxSizing:"border-box"},t.container?(0,s.Z)({display:"flex",flexWrap:"wrap"},t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap},{margin:"calc(var(--Grid-rowSpacing) / -2) calc(var(--Grid-columnSpacing) / -2)"},t.disableEqualOverflow&&{margin:"calc(var(--Grid-rowSpacing) * -1) 0px 0px calc(var(--Grid-columnSpacing) * -1)"},t.nested?(0,s.Z)({padding:"calc(var(--Grid-nested-rowSpacing) / 2) calc(var(--Grid-nested-columnSpacing) / 2)"},(t.disableEqualOverflow||t.parentDisableEqualOverflow)&&{padding:"calc(var(--Grid-nested-rowSpacing)) 0px 0px calc(var(--Grid-nested-columnSpacing))"}):{"--Grid-nested-rowSpacing":"var(--Grid-rowSpacing)","--Grid-nested-columnSpacing":"var(--Grid-columnSpacing)"}):(0,s.Z)({padding:"calc(var(--Grid-rowSpacing) / 2) calc(var(--Grid-columnSpacing) / 2)"},t.disableEqualOverflow&&{padding:"calc(var(--Grid-rowSpacing)) 0px 0px calc(var(--Grid-columnSpacing))"})),N=t=>{const e=[];return Object.entries(t).forEach((([t,n])=>{!1!==n&&void 0!==n&&e.push(`grid-${t}-${String(n)}`)})),e},E=(t,e="xs")=>{function n(t){return void 0!==t&&("string"==typeof t&&!Number.isNaN(Number(t))||"number"==typeof t&&t>0)}if(n(t))return[`spacing-${e}-${String(t)}`];if("object"==typeof t&&!Array.isArray(t)){const e=[];return Object.entries(t).forEach((([t,s])=>{n(s)&&e.push(`spacing-${t}-${String(s)}`)})),e}return[]},O=t=>void 0===t?[]:"object"==typeof t?Object.entries(t).map((([t,e])=>`direction-${t}-${e}`)):[`direction-xs-${String(t)}`];var k=n(4246);const I=["className","columns","container","component","direction","wrap","spacing","rowSpacing","columnSpacing","disableEqualOverflow"],T=(0,p.Z)(),_=u("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>e.root});function R(t){return(0,l.Z)({props:t,name:"MuiGrid",defaultTheme:T})}var L=n(7018),C=n(6112);const D=function(t={}){const{createStyledComponent:e=_,useThemeProps:n=R,componentName:u="MuiGrid"}=t,l=r.createContext(!1),p=r.createContext(void 0),f=e(S,b,v,m,y,w,g);return r.forwardRef((function(t,e){var m,g,S,v,b,y,w,T;const _=(0,d.Z)(),R=n(t),L=(0,h.Z)(R),C=r.useContext(l),D=r.useContext(p),{className:A,columns:x=12,container:M=!1,component:P="div",direction:j="row",wrap:U="wrap",spacing:B=0,rowSpacing:F=B,columnSpacing:z=B,disableEqualOverflow:W}=L,H=(0,i.Z)(L,I);let $=W;C&&void 0!==W&&($=t.disableEqualOverflow);const G={},V={},J={};Object.entries(H).forEach((([t,e])=>{void 0!==_.breakpoints.values[t]?G[t]=e:void 0!==_.breakpoints.values[t.replace("Offset","")]?V[t.replace("Offset","")]=e:J[t]=e}));const q=null!=(m=t.columns)?m:C?void 0:x,Z=null!=(g=t.spacing)?g:C?void 0:B,K=null!=(S=null!=(v=t.rowSpacing)?v:t.spacing)?S:C?void 0:F,X=null!=(b=null!=(y=t.columnSpacing)?y:t.spacing)?b:C?void 0:z,Y=(0,s.Z)({},L,{nested:C,columns:q,container:M,direction:j,wrap:U,spacing:Z,rowSpacing:K,columnSpacing:X,gridSize:G,gridOffset:V,disableEqualOverflow:null!=(w=null!=(T=$)?T:D)&&w,parentDisableEqualOverflow:D}),Q=((t,e)=>{const{container:n,direction:s,spacing:i,wrap:r,gridSize:o}=t,l={root:["root",n&&"container","wrap"!==r&&`wrap-xs-${String(r)}`,...O(s),...N(o),...n?E(i,e.breakpoints.keys[0]):[]]};return(0,a.Z)(l,(t=>(0,c.Z)(u,t)),{})})(Y,_);let tt=(0,k.jsx)(f,(0,s.Z)({ref:e,as:P,ownerState:Y,className:(0,o.Z)(Q.root,A)},J));return C||(tt=(0,k.jsx)(l.Provider,{value:!0,children:tt})),void 0!==$&&$!==(null!=D&&D)&&(tt=(0,k.jsx)(p.Provider,{value:$,children:tt})),tt}))}({createStyledComponent:(0,L.ZP)("div",{name:"MuiGrid2",overridesResolver:(t,e)=>e.root}),componentName:"MuiGrid2",useThemeProps:t=>(0,C.Z)({props:t,name:"MuiGrid2"})}),A=D},1932:function(t,e,n){var s,i,r;!function(o,a){"use strict";i=[n(2627)],void 0===(r="function"==typeof(s=function(t){var e=/(^|@)\S+:\d+/,n=/^\s*at .*(\S+:\d+|\(native\))/m,s=/^(eval@)?(\[native code])?$/;return{parse:function(t){if(void 0!==t.stacktrace||void 0!==t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(n))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(-1===t.indexOf(":"))return[t];var e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(t.replace(/[()]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(t){return!!t.match(n)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),s=n.match(/ (\(.+\)$)/);n=s?n.replace(s[0],""):n;var i=this.extractLocation(s?s[1]:n),r=s&&n||void 0,o=["eval","<anonymous>"].indexOf(i[0])>-1?void 0:i[0];return new t({functionName:r,fileName:o,lineNumber:i[1],columnNumber:i[2],source:e})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(t){return!t.match(s)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new t({functionName:e});var n=/((.*".+"[^@]*)?[^@]*)(?:@)/,s=e.match(n),i=s&&s[1]?s[1]:void 0,r=this.extractLocation(e.replace(n,""));return new t({functionName:i,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e})}),this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)/i,s=e.message.split("\n"),i=[],r=2,o=s.length;r<o;r+=2){var a=n.exec(s[r]);a&&i.push(new t({fileName:a[2],lineNumber:a[1],source:s[r]}))}return i},parseOpera10:function(e){for(var n=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,s=e.stacktrace.split("\n"),i=[],r=0,o=s.length;r<o;r+=2){var a=n.exec(s[r]);a&&i.push(new t({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:s[r]}))}return i},parseOpera11:function(n){return n.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var n,s=e.split("@"),i=this.extractLocation(s.pop()),r=s.shift()||"",o=r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;r.match(/\(([^)]*)\)/)&&(n=r.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var a=void 0===n||"[arguments not available]"===n?void 0:n.split(",");return new t({functionName:o,args:a,fileName:i[0],lineNumber:i[1],columnNumber:i[2],source:e})}),this)}}})?s.apply(e,i):s)||(t.exports=r)}()},2627:function(t,e){var n,s,i;!function(r,o){"use strict";s=[],void 0===(i="function"==typeof(n=function(){function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t){return t.charAt(0).toUpperCase()+t.substring(1)}function n(t){return function(){return this[t]}}var s=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],r=["fileName","functionName","source"],o=["args"],a=["evalOrigin"],c=s.concat(i,r,o,a);function u(t){if(t)for(var n=0;n<c.length;n++)void 0!==t[c[n]]&&this["set"+e(c[n])](t[c[n]])}u.prototype={getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(t){if(t instanceof u)this.evalOrigin=t;else{if(!(t instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new u(t)}},toString:function(){var t=this.getFileName()||"",e=this.getLineNumber()||"",n=this.getColumnNumber()||"",s=this.getFunctionName()||"";return this.getIsEval()?t?"[eval] ("+t+":"+e+":"+n+")":"[eval]:"+e+":"+n:s?s+" ("+t+":"+e+":"+n+")":t+":"+e+":"+n}},u.fromString=function(t){var e=t.indexOf("("),n=t.lastIndexOf(")"),s=t.substring(0,e),i=t.substring(e+1,n).split(","),r=t.substring(n+1);if(0===r.indexOf("@"))var o=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(r,""),a=o[1],c=o[2],l=o[3];return new u({functionName:s,args:i||void 0,fileName:a,lineNumber:c||void 0,columnNumber:l||void 0})};for(var l=0;l<s.length;l++)u.prototype["get"+e(s[l])]=n(s[l]),u.prototype["set"+e(s[l])]=function(t){return function(e){this[t]=Boolean(e)}}(s[l]);for(var d=0;d<i.length;d++)u.prototype["get"+e(i[d])]=n(i[d]),u.prototype["set"+e(i[d])]=function(e){return function(n){if(!t(n))throw new TypeError(e+" must be a Number");this[e]=Number(n)}}(i[d]);for(var h=0;h<r.length;h++)u.prototype["get"+e(r[h])]=n(r[h]),u.prototype["set"+e(r[h])]=function(t){return function(e){this[t]=String(e)}}(r[h]);return u})?n.apply(e,s):n)||(t.exports=i)}()},9650:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasTag=e.isRootNode=e.isDocument=e.isTextNode=e.isElementNode=e.isSVGElement=e.isNode=void 0,e.isNode=function(t){return!!t&&null!=t.nodeType},e.isSVGElement=function(t){return"http://www.w3.org/2000/svg"===t.namespaceURI},e.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.isDocument=function(t){return t.nodeType===Node.DOCUMENT_NODE},e.isRootNode=function(t){return t.nodeType===Node.DOCUMENT_NODE||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE},e.hasTag=function(t,e){return t.nodeName===e}},318:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_INGEST_POINT=void 0;const s=n(5264),i=n(6859),r=n(1664),o=n(2730),a=n(1866),c=n(3285),u=n(5480),l=n(1069),d=n(8049),h="canceled",p=t=>({reason:t,success:!1});var f;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Active=2]="Active"}(f||(f={})),e.DEFAULT_INGEST_POINT="https://api.openreplay.com/ingest";e.default=class{constructor(t,n,i){var d,h;this.messages=[],this.startCallbacks=[],this.stopCallbacks=[],this.commitCallbacks=[],this.activityState=f.NotActive,this.version="4.1.8",this.delay=0,this.projectKey=t,this.options=Object.assign({revID:"",node_id:"__openreplay_id",session_token_key:"__openreplay_token",session_pageno_key:"__openreplay_pageno",session_reset_key:"__openreplay_reset",local_uuid_key:"__openreplay_uuid",ingestPoint:e.DEFAULT_INGEST_POINT,resourceBaseHref:null,verbose:!1,__is_snippet:!1,__debug_report_edp:null,localStorage:null,sessionStorage:null},i),this.revID=this.options.revID,this.localStorage=null!==(d=this.options.localStorage)&&void 0!==d?d:window.localStorage,this.sessionStorage=null!==(h=this.options.sessionStorage)&&void 0!==h?h:window.sessionStorage,this.sanitizer=new a.default(this,i),this.nodes=new r.default(this.options.node_id),this.observer=new o.default(this,i),this.ticker=new c.default(this),this.ticker.attach((()=>this.commit())),this.debug=new u.default(this.options.__debug__),this.notify=new u.default(this.options.verbose?u.LogLevel.Warnings:u.LogLevel.Silent),this.session=new l.default(this,this.options),this.session.attachUpdateCallback((({userID:t,metadata:e})=>{null!=t&&this.send((0,s.UserID)(t)),null!=e&&Object.entries(e).forEach((([t,e])=>this.send((0,s.Metadata)(t,e))))})),null!=n&&this.session.applySessionHash(n);try{this.worker=new Worker(URL.createObjectURL(new Blob(['"use strict";class t{constructor(t,i,s,e=10,n=1e3){this.onUnauthorised=i,this.onFailure=s,this.MAX_ATTEMPTS_COUNT=e,this.ATTEMPT_TIMEOUT=n,this.attemptsCount=0,this.busy=!1,this.queue=[],this.token=null,this.ingestURL=t+"/v1/web/i"}authorise(t){this.token=t}push(t){this.busy||!this.token?this.queue.push(t):this.sendBatch(t)}retry(t){this.attemptsCount>=this.MAX_ATTEMPTS_COUNT?this.onFailure(`Failed to send batch after ${this.attemptsCount} attempts.`):(this.attemptsCount++,setTimeout(()=>this.sendBatch(t),this.ATTEMPT_TIMEOUT*this.attemptsCount))}sendBatch(t){this.busy=!0,fetch(this.ingestURL,{body:t,method:"POST",headers:{Authorization:"Bearer "+this.token},keepalive:t.length<65536}).then(i=>{if(401===i.status)return this.busy=!1,void this.onUnauthorised();if(i.status>=400)return void this.retry(t);this.attemptsCount=0;const s=this.queue.shift();s?this.sendBatch(s):this.busy=!1}).catch(i=>{console.warn("OpenReplay:",i),this.retry(t)})}clean(){this.queue.length=0}}const i="function"==typeof TextEncoder?new TextEncoder:{encode(t){const i=t.length,s=new Uint8Array(3*i);let e=-1;for(let n=0,r=0,h=0;h!==i;){if(n=t.charCodeAt(h),h+=1,n>=55296&&n<=56319){if(h===i){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;break}if(r=t.charCodeAt(h),!(r>=56320&&r<=57343)){s[e+=1]=239,s[e+=1]=191,s[e+=1]=189;continue}if(n=1024*(n-55296)+r-56320+65536,h+=1,n>65535){s[e+=1]=240|n>>>18,s[e+=1]=128|n>>>12&63,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n;continue}}n<=127?s[e+=1]=0|n:n<=2047?(s[e+=1]=192|n>>>6,s[e+=1]=128|63&n):(s[e+=1]=224|n>>>12,s[e+=1]=128|n>>>6&63,s[e+=1]=128|63&n)}return s.subarray(0,e+1)}};class s extends class{constructor(t){this.size=t,this.offset=0,this.checkpointOffset=0,this.data=new Uint8Array(t)}getCurrentOffset(){return this.offset}checkpoint(){this.checkpointOffset=this.offset}isEmpty(){return 0===this.offset}skip(t){return this.offset+=t,this.offset<=this.size}set(t,i){this.data.set(t,i)}boolean(t){return this.data[this.offset++]=+t,this.offset<=this.size}uint(t){for((t<0||t>Number.MAX_SAFE_INTEGER)&&(t=0);t>=128;)this.data[this.offset++]=t%256|128,t=Math.floor(t/128);return this.data[this.offset++]=t,this.offset<=this.size}int(t){return t=Math.round(t),this.uint(t>=0?2*t:-2*t-1)}string(t){const s=i.encode(t),e=s.byteLength;return!(!this.uint(e)||this.offset+e>this.size)&&(this.data.set(s,this.offset),this.offset+=e,!0)}reset(){this.offset=0,this.checkpointOffset=0}flush(){const t=this.data.slice(0,this.checkpointOffset);return this.reset(),t}}{encode(t){switch(t[0]){case 81:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.int(t[4])&&this.string(t[5]);case 82:return this.uint(t[1])&&this.uint(t[2]);case 0:return this.uint(t[1]);case 4:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 5:return this.uint(t[1])&&this.uint(t[2]);case 6:return this.int(t[1])&&this.int(t[2]);case 7:return!0;case 8:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.string(t[4])&&this.boolean(t[5]);case 9:case 10:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3]);case 11:return this.uint(t[1]);case 12:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 13:case 14:return this.uint(t[1])&&this.string(t[2]);case 16:return this.uint(t[1])&&this.int(t[2])&&this.int(t[3]);case 17:return this.uint(t[1])&&this.string(t[2]);case 18:return this.uint(t[1])&&this.string(t[2])&&this.int(t[3]);case 19:return this.uint(t[1])&&this.boolean(t[2]);case 20:return this.uint(t[1])&&this.uint(t[2]);case 22:return this.string(t[1])&&this.string(t[2]);case 23:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.uint(t[7])&&this.uint(t[8])&&this.uint(t[9]);case 24:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3]);case 25:return this.string(t[1])&&this.string(t[2])&&this.string(t[3]);case 27:return this.string(t[1])&&this.string(t[2]);case 28:case 29:return this.string(t[1]);case 30:return this.string(t[1])&&this.string(t[2]);case 37:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3]);case 38:return this.uint(t[1])&&this.uint(t[2]);case 39:return this.string(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.uint(t[7]);case 40:return this.string(t[1])&&this.uint(t[2])&&this.string(t[3])&&this.string(t[4]);case 41:return this.string(t[1])&&this.string(t[2]);case 42:return this.string(t[1]);case 44:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 45:case 46:return this.string(t[1])&&this.string(t[2]);case 47:return this.string(t[1])&&this.string(t[2])&&this.uint(t[3]);case 48:return this.string(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4]);case 49:return this.int(t[1])&&this.int(t[2])&&this.uint(t[3])&&this.uint(t[4]);case 53:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.uint(t[5])&&this.uint(t[6])&&this.string(t[7])&&this.string(t[8]);case 54:return this.uint(t[1])&&this.string(t[2]);case 55:return this.boolean(t[1]);case 57:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4]);case 58:return this.int(t[1]);case 59:return this.uint(t[1])&&this.uint(t[2])&&this.uint(t[3])&&this.uint(t[4])&&this.string(t[5])&&this.string(t[6])&&this.string(t[7]);case 60:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4]);case 61:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 63:case 64:return this.string(t[1])&&this.string(t[2]);case 67:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3])&&this.string(t[4]);case 69:return this.uint(t[1])&&this.uint(t[2])&&this.string(t[3])&&this.string(t[4]);case 70:return this.uint(t[1])&&this.uint(t[2]);case 71:return this.uint(t[1])&&this.string(t[2])&&this.string(t[3]);case 73:return this.uint(t[1])&&this.string(t[2])&&this.uint(t[3])&&this.string(t[4]);case 75:case 76:case 77:return this.uint(t[1])&&this.uint(t[2]);case 79:return this.string(t[1])&&this.string(t[2]);case 78:return this.string(t[1])&&this.string(t[2])&&this.string(t[3])&&this.string(t[4])}}}class e{constructor(t,i,e,n){this.pageNo=t,this.timestamp=i,this.url=e,this.onBatch=n,this.nextIndex=0,this.beaconSize=2e5,this.encoder=new s(this.beaconSize),this.sizeBuffer=new Uint8Array(3),this.isEmpty=!0,this.beaconSizeLimit=1e6,this.prepare()}writeType(t){return this.encoder.uint(t[0])}writeFields(t){return this.encoder.encode(t)}writeSizeAt(t,i){for(let i=0;i<3;i++)this.sizeBuffer[i]=t>>8*i;this.encoder.set(this.sizeBuffer,i)}prepare(){if(!this.encoder.isEmpty())return;const t=[81,1,this.pageNo,this.nextIndex,this.timestamp,this.url];this.writeType(t),this.writeFields(t),this.isEmpty=!0}writeWithSize(t){const i=this.encoder;if(!this.writeType(t)||!i.skip(3))return!1;const s=i.getCurrentOffset(),e=this.writeFields(t);if(e){const e=i.getCurrentOffset()-s;if(e>16777215)return console.warn("OpenReplay: max message size overflow."),!1;this.writeSizeAt(e,s-3),i.checkpoint(),this.isEmpty=this.isEmpty&&0===t[0],this.nextIndex++}return e}setBeaconSizeLimit(t){this.beaconSizeLimit=t}writeMessage(t){if(0===t[0]&&(this.timestamp=t[1]),4===t[0]&&(this.url=t[1]),!this.writeWithSize(t))for(this.finaliseBatch();!this.writeWithSize(t);){if(this.beaconSize===this.beaconSizeLimit)return console.warn("OpenReplay: beacon size overflow. Skipping large message.",t,this),this.encoder.reset(),void this.prepare();this.beaconSize=Math.min(2*this.beaconSize,this.beaconSizeLimit),this.encoder=new s(this.beaconSize),this.prepare()}}finaliseBatch(){this.isEmpty||(this.onBatch(this.encoder.flush()),this.prepare())}clean(){this.encoder.reset()}}var n;!function(t){t[t.NotActive=0]="NotActive",t[t.Starting=1]="Starting",t[t.Stopping=2]="Stopping",t[t.Active=3]="Active"}(n||(n={}));let r=null,h=null;function u(){h&&h.finaliseBatch()}function a(){n.Stopping,null!==g&&(clearInterval(g),g=null),h&&(h.clean(),h=null),r&&(r.clean(),r=null),n.NotActive}function o(){postMessage("restart"),a()}n.NotActive;let c,g=null;self.onmessage=({data:i})=>{if(null!=i){if("stop"===i)return u(),void a();if(Array.isArray(i)){if(!h)throw new Error("WebWorker: writer not initialised. Service Should be Started.");const t=h;i.forEach(i=>{55===i[0]&&(i[1]?c=setTimeout(()=>o(),18e5):clearTimeout(c)),t.writeMessage(i)})}else{if("start"===i.type)return n.Starting,r=new t(i.ingestPoint,()=>{o()},t=>{!function(t){postMessage({type:"failure",reason:t}),a()}(t)},i.connAttemptCount,i.connAttemptGap),h=new e(i.pageNo,i.timestamp,i.url,t=>r&&r.push(t)),null===g&&(g=setInterval(u,1e4)),n.Active;if("auth"===i.type){if(!r)throw new Error("WebWorker: sender not initialised. Received auth.");if(!h)throw new Error("WebWorker: writer not initialised. Received auth.");return r.authorise(i.token),void(i.beaconSizeLimit&&h.setBeaconSizeLimit(i.beaconSizeLimit))}}}else u()};'],{type:"text/javascript"}))),this.worker.onerror=t=>{this._debug("webworker_error",t)},this.worker.onmessage=({data:t})=>{"restart"===t?(this.stop(!1),this.start({},!0)):"failure"===t.type&&(this.stop(!1),this._debug("worker_failed",t.reason))};const t=()=>{this.worker&&this.worker.postMessage(null)};this.attachEventListener(window,"beforeunload",t,!1),this.attachEventListener(document.body,"mouseleave",t,!1,!1),this.attachEventListener(document,"visibilitychange",t,!1)}catch(p){this._debug("worker_start",p)}}_debug(t,e){null!==this.options.__debug_report_edp&&fetch(this.options.__debug_report_edp,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({context:t,error:`${e}`})}),this.debug.error("OpenReplay error: ",t,e)}send(t,e=!1){this.activityState!==f.NotActive&&(this.messages.push(t),this.activityState===f.Active&&e&&this.commit())}commit(){this.worker&&this.messages.length&&(this.messages.unshift((0,s.Timestamp)(this.timestamp())),this.worker.postMessage(this.messages),this.commitCallbacks.forEach((t=>t(this.messages))),this.messages.length=0)}timestamp(){return(0,i.now)()+this.delay}safe(t){const e=this;return function(...n){try{t.apply(this,n)}catch(s){e._debug("safe_fn_call",s)}}}attachCommitCallback(t){this.commitCallbacks.push(t)}attachStartCallback(t,e=!1){e&&(t=this.safe(t)),this.startCallbacks.push(t)}attachStopCallback(t,e=!1){e&&(t=this.safe(t)),this.stopCallbacks.push(t)}attachEventListener(t,e,n,s=!0,i=!0){s&&(n=this.safe(n)),this.attachStartCallback((()=>null==t?void 0:t.addEventListener(e,n,i)),s),this.attachStopCallback((()=>null==t?void 0:t.removeEventListener(e,n,i)),s)}checkRequiredVersion(t){const e=t.split(/[.-]/),n=this.version.split(/[.-]/);for(let s=0;s<3;s++){if(isNaN(Number(n[s]))||isNaN(Number(e[s])))return!1;if(Number(n[s])>Number(e[s]))return!0;if(Number(n[s])<Number(e[s]))return!1}return!0}getTrackerInfo(){return{userUUID:this.localStorage.getItem(this.options.local_uuid_key),projectKey:this.projectKey,revID:this.revID,trackerVersion:this.version,isSnippet:this.options.__is_snippet}}getSessionInfo(){return Object.assign(Object.assign({},this.session.getInfo()),this.getTrackerInfo())}getSessionToken(){return this.session.getSessionToken()}getSessionID(){return this.session.getInfo().sessionID||void 0}getSessionURL(){const{projectID:t,sessionID:n}=this.session.getInfo();if(!t||!n)return void this.debug.error("OpenReplay error: Unable to build session URL");const s=this.options.ingestPoint;return(s===e.DEFAULT_INGEST_POINT?s.replace("api","app"):s).replace(/ingest$/,`${t}/session/${n}`)}getHost(){return new URL(this.options.ingestPoint).host}getProjectKey(){return this.projectKey}getBaseHref(){var t,e;return"string"==typeof this.options.resourceBaseHref?this.options.resourceBaseHref:(this.options.resourceBaseHref,document.baseURI?document.baseURI:(null===(e=null===(t=document.head)||void 0===t?void 0:t.getElementsByTagName("base")[0])||void 0===e?void 0:e.getAttribute("href"))||location.origin+location.pathname)}resolveResourceURL(t){const e=new URL(this.getBaseHref());return e.pathname+="/"+new URL(t).pathname,e.pathname.replace(/\/+/g,"/"),e.toString()}isServiceURL(t){return t.startsWith(this.options.ingestPoint)}active(){return this.activityState===f.Active}resetNextPageSession(t){t?this.sessionStorage.setItem(this.options.session_reset_key,"t"):this.sessionStorage.removeItem(this.options.session_reset_key)}_start(t={},e=!1){if(!this.worker)return Promise.resolve(p("No worker found: perhaps, CSP is not set."));if(this.activityState!==f.NotActive)return Promise.resolve(p("OpenReplay: trying to call `start()` on the instance that has been started already."));this.activityState=f.Starting,(0,i.adjustTimeOrigin)(),t.sessionHash&&this.session.applySessionHash(t.sessionHash),t.forceNew&&this.session.reset(),this.session.assign({userID:t.userID,metadata:t.metadata});const n=(0,i.now)();this.worker.postMessage({type:"start",pageNo:this.session.incPageNo(),ingestPoint:this.options.ingestPoint,timestamp:n,url:document.URL,connAttemptCount:this.options.connAttemptCount,connAttemptGap:this.options.connAttemptGap});const r=null!==this.sessionStorage.getItem(this.options.session_reset_key);this.sessionStorage.removeItem(this.options.session_reset_key);const o=t.forceNew||r||e;return window.fetch(this.options.ingestPoint+"/v1/web/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object.assign(Object.assign({},this.getTrackerInfo()),{timestamp:n,userID:this.session.getInfo().userID,token:o?void 0:this.session.getSessionToken(),deviceMemory:d.deviceMemory,jsHeapSizeLimit:d.jsHeapSizeLimit}))}).then((t=>200===t.status?t.json():t.text().then((e=>e===h?Promise.reject(h):Promise.reject(`Server error: ${t.status}. ${e}`))))).then((t=>{if(!this.worker)return Promise.reject("no worker found after start request (this might not happen)");if(this.activityState===f.NotActive)return Promise.reject("Tracker stopped during authorisation");const{token:e,userUUID:i,projectID:r,beaconSizeLimit:o,delay:a,sessionID:c,startTimestamp:u}=t;if("string"!=typeof e||"string"!=typeof i||"number"!=typeof u&&void 0!==u||"string"!=typeof c||"number"!=typeof a||"number"!=typeof o&&void 0!==o)return Promise.reject(`Incorrect server response: ${JSON.stringify(t)}`);this.delay=a,this.session.setSessionToken(e),this.session.assign({sessionID:c,timestamp:u||n,projectID:r}),Object.entries(this.session.getInfo().metadata).forEach((([t,e])=>this.send((0,s.Metadata)(t,e)))),this.localStorage.setItem(this.options.local_uuid_key,i),this.worker.postMessage({type:"auth",token:e,beaconSizeLimit:o});const l={sessionToken:e,userUUID:i,sessionID:c};return this.startCallbacks.forEach((t=>t(l))),this.observer.observe(),this.ticker.start(),this.activityState=f.Active,this.notify.log("OpenReplay tracking started."),"function"==typeof this.options.onStart&&this.options.onStart(l),d=l,Object.assign(Object.assign({},d),{success:!0});var d})).catch((t=>(this.stop(),this.session.reset(),t===h?p(h):(this.notify.log("OpenReplay was unable to start. ",t),this._debug("session_start",t),p(":(")))))}start(...t){return document.hidden?new Promise((e=>{const n=()=>{document.hidden||(document.removeEventListener("visibilitychange",n),e(this._start(...t)))};document.addEventListener("visibilitychange",n)})):this._start(...t)}stop(t=!0){if(this.activityState!==f.NotActive)try{this.sanitizer.clear(),this.observer.disconnect(),this.nodes.clear(),this.ticker.stop(),this.stopCallbacks.forEach((t=>t())),this.notify.log("OpenReplay tracking stopped."),this.worker&&t&&this.worker.postMessage("stop")}finally{this.activityState=f.NotActive}}}},5480:(t,e)=>{"use strict";function n(t){return"object"==typeof t}Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0,e.LogLevel={Verbose:5,Log:4,Warnings:3,Errors:2,Silent:0};e.default=class{constructor(t=e.LogLevel.Silent){this.options=!0===t?{level:e.LogLevel.Verbose}:"number"==typeof t?{level:t}:t}log(...t){(n(this.options.level)?this.options.level.log:this.options.level>=e.LogLevel.Log)&&console.log(...t)}warn(...t){(n(this.options.level)?this.options.level.warn:this.options.level>=e.LogLevel.Warnings)&&console.warn(...t)}error(...t){(n(this.options.level)?this.options.level.error:this.options.level>=e.LogLevel.Errors)&&console.error(...t)}}},5264:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CSSInsertRuleURLBased=e.CustomIssue=e.TechnicalInfo=e.SetCSSDataURLBased=e.SetNodeAttributeURLBased=e.LongTask=e.SetNodeFocus=e.LoadFontFace=e.SetPageVisibility=e.ConnectionInformation=e.ResourceTiming=e.PerformanceTrack=e.GraphQL=e.NgRx=e.MobX=e.Vuex=e.Redux=e.StateAction=e.OTable=e.Profiler=e.Fetch=e.CSSDeleteRule=e.CSSInsertRule=e.Metadata=e.UserAnonymousID=e.UserID=e.RawCustomEvent=e.JSExceptionDeprecated=e.PageRenderTiming=e.PageLoadTiming=e.ConsoleLog=e.MouseMove=e.SetInputChecked=e.SetInputValue=e.SetInputTarget=e.SetNodeScroll=e.SetNodeData=e.RemoveNodeAttribute=e.SetNodeAttribute=e.RemoveNode=e.MoveNode=e.CreateTextNode=e.CreateElementNode=e.CreateDocument=e.SetViewportScroll=e.SetViewportSize=e.SetPageLocation=e.Timestamp=e.PartitionedMessage=e.BatchMetadata=void 0,e.JSException=e.Zustand=e.AdoptedSSRemoveOwner=e.AdoptedSSAddOwner=e.AdoptedSSDeleteRule=e.AdoptedSSInsertRuleURLBased=e.AdoptedSSReplaceURLBased=e.CreateIFrameDocument=e.MouseClick=void 0,e.BatchMetadata=function(t,e,n,s,i){return[81,t,e,n,s,i]},e.PartitionedMessage=function(t,e){return[82,t,e]},e.Timestamp=function(t){return[0,t]},e.SetPageLocation=function(t,e,n){return[4,t,e,n]},e.SetViewportSize=function(t,e){return[5,t,e]},e.SetViewportScroll=function(t,e){return[6,t,e]},e.CreateDocument=function(){return[7]},e.CreateElementNode=function(t,e,n,s,i){return[8,t,e,n,s,i]},e.CreateTextNode=function(t,e,n){return[9,t,e,n]},e.MoveNode=function(t,e,n){return[10,t,e,n]},e.RemoveNode=function(t){return[11,t]},e.SetNodeAttribute=function(t,e,n){return[12,t,e,n]},e.RemoveNodeAttribute=function(t,e){return[13,t,e]},e.SetNodeData=function(t,e){return[14,t,e]},e.SetNodeScroll=function(t,e,n){return[16,t,e,n]},e.SetInputTarget=function(t,e){return[17,t,e]},e.SetInputValue=function(t,e,n){return[18,t,e,n]},e.SetInputChecked=function(t,e){return[19,t,e]},e.MouseMove=function(t,e){return[20,t,e]},e.ConsoleLog=function(t,e){return[22,t,e]},e.PageLoadTiming=function(t,e,n,s,i,r,o,a,c){return[23,t,e,n,s,i,r,o,a,c]},e.PageRenderTiming=function(t,e,n){return[24,t,e,n]},e.JSExceptionDeprecated=function(t,e,n){return[25,t,e,n]},e.RawCustomEvent=function(t,e){return[27,t,e]},e.UserID=function(t){return[28,t]},e.UserAnonymousID=function(t){return[29,t]},e.Metadata=function(t,e){return[30,t,e]},e.CSSInsertRule=function(t,e,n){return[37,t,e,n]},e.CSSDeleteRule=function(t,e){return[38,t,e]},e.Fetch=function(t,e,n,s,i,r,o){return[39,t,e,n,s,i,r,o]},e.Profiler=function(t,e,n,s){return[40,t,e,n,s]},e.OTable=function(t,e){return[41,t,e]},e.StateAction=function(t){return[42,t]},e.Redux=function(t,e,n){return[44,t,e,n]},e.Vuex=function(t,e){return[45,t,e]},e.MobX=function(t,e){return[46,t,e]},e.NgRx=function(t,e,n){return[47,t,e,n]},e.GraphQL=function(t,e,n,s){return[48,t,e,n,s]},e.PerformanceTrack=function(t,e,n,s){return[49,t,e,n,s]},e.ResourceTiming=function(t,e,n,s,i,r,o,a){return[53,t,e,n,s,i,r,o,a]},e.ConnectionInformation=function(t,e){return[54,t,e]},e.SetPageVisibility=function(t){return[55,t]},e.LoadFontFace=function(t,e,n,s){return[57,t,e,n,s]},e.SetNodeFocus=function(t){return[58,t]},e.LongTask=function(t,e,n,s,i,r,o){return[59,t,e,n,s,i,r,o]},e.SetNodeAttributeURLBased=function(t,e,n,s){return[60,t,e,n,s]},e.SetCSSDataURLBased=function(t,e,n){return[61,t,e,n]},e.TechnicalInfo=function(t,e){return[63,t,e]},e.CustomIssue=function(t,e){return[64,t,e]},e.CSSInsertRuleURLBased=function(t,e,n,s){return[67,t,e,n,s]},e.MouseClick=function(t,e,n,s){return[69,t,e,n,s]},e.CreateIFrameDocument=function(t,e){return[70,t,e]},e.AdoptedSSReplaceURLBased=function(t,e,n){return[71,t,e,n]},e.AdoptedSSInsertRuleURLBased=function(t,e,n,s){return[73,t,e,n,s]},e.AdoptedSSDeleteRule=function(t,e){return[75,t,e]},e.AdoptedSSAddOwner=function(t,e){return[76,t,e]},e.AdoptedSSRemoveOwner=function(t,e){return[77,t,e]},e.Zustand=function(t,e){return[79,t,e]},e.JSException=function(t,e,n,s){return[78,t,e,n,s]}},1664:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.node_id=t,this.nodes=[],this.nodeCallbacks=[],this.elementListeners=new Map}attachNodeCallback(t){this.nodeCallbacks.push(t)}attachNodeListener(t,e,n,s=!0){const i=this.getID(t);if(void 0===i)return;t.addEventListener(e,n,s);let r=this.elementListeners.get(i);void 0===r&&(r=[],this.elementListeners.set(i,r)),r.push([e,n,s])}registerNode(t){let e=t[this.node_id];const n=void 0===e;return n&&(e=this.nodes.length,this.nodes[e]=t,t[this.node_id]=e),[e,n]}unregisterNode(t){const e=t[this.node_id];if(void 0!==e){delete t[this.node_id],delete this.nodes[e];const n=this.elementListeners.get(e);void 0!==n&&(this.elementListeners.delete(e),n.forEach((e=>t.removeEventListener(e[0],e[1],e[2]))))}return e}cleanTree(){for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t];e&&!document.contains(e)&&this.unregisterNode(e)}}callNodeCallbacks(t,e){this.nodeCallbacks.forEach((n=>n(t,e)))}getID(t){return t[this.node_id]}getNode(t){return this.nodes[t]}clear(){for(let t=0;t<this.nodes.length;t++){const e=this.nodes[t];void 0!==e&&this.unregisterNode(e)}this.nodes.length=0}}},7422:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5223),i=n(5264);class r extends s.default{observe(t){const e=t.contentDocument,n=this.app.nodes.getID(t);e&&void 0!==n&&this.observeRoot(e,(t=>{void 0!==t?this.app.send((0,i.CreateIFrameDocument)(n,t)):console.log("OpenReplay: Iframe document not bound")}))}}e.default=r},2394:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.states=new Map}calcOffset(t){let e=0,n=0;if(t.parent&&([e,n]=this.calcOffset(t.parent)),!t.offset){const{left:e,top:n}=t.iFrame.getBoundingClientRect();t.offset=[e,n]}const[s,i]=t.offset;return[e+s,n+i]}getDocumentOffset(t){const e=this.states.get(t);return e?this.calcOffset(e):[0,0]}observe(t){var e;const n=t.contentDocument;if(!n)return;const s=t.ownerDocument,i={offset:null,iFrame:t,parent:this.states.get(s)||null,clear:()=>{var t;s.removeEventListener("scroll",r),null===(t=s.defaultView)||void 0===t||t.removeEventListener("resize",r)}},r=()=>{i.offset=null};s.addEventListener("scroll",r),null===(e=s.defaultView)||void 0===e||e.addEventListener("resize",r),this.states.set(n,i)}clear(){this.states.forEach((t=>t.clear())),this.states.clear()}}},5223:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5264),i=n(9650);function r(t){if((0,i.isTextNode)(t))return!1;if(!(0,i.isElementNode)(t))return!0;const e=t.tagName.toUpperCase();if("LINK"===e){const e=t.getAttribute("rel"),n=t.getAttribute("as");return!((null==e?void 0:e.includes("stylesheet"))||"style"===n||"font"===n)}return"SCRIPT"===e||"NOSCRIPT"===e||"META"===e||"TITLE"===e||"BASE"===e}function o(t){return!!(0,i.isRootNode)(t)||!r(t)}var a;!function(t){t[t.New=0]="New",t[t.Removed=1]="Removed",t[t.Changed=2]="Changed"}(a||(a={}));e.default=class{constructor(t,e=!1){this.app=t,this.isTopContext=e,this.commited=[],this.recents=new Map,this.indexes=[],this.attributesMap=new Map,this.textSet=new Set,this.observer=new MutationObserver(this.app.safe((t=>{for(const e of t){const t=e.target,n=e.type;if(!o(t))continue;if("childList"===n){for(let t=0;t<e.removedNodes.length;t++)o(e.removedNodes[t])&&this.bindNode(e.removedNodes[t]);for(let t=0;t<e.addedNodes.length;t++)this.bindTree(e.addedNodes[t]);continue}const s=this.app.nodes.getID(t);if(void 0!==s)if(this.recents.has(s)||this.recents.set(s,a.Changed),"attributes"!==n)"characterData"!==n||this.textSet.add(s);else{const t=e.attributeName;if(null===t)continue;let n=this.attributesMap.get(s);void 0===n&&this.attributesMap.set(s,n=new Set),n.add(t)}}this.commitNodes()})))}clear(){this.commited.length=0,this.recents.clear(),this.indexes.length=1,this.attributesMap.clear(),this.textSet.clear()}sendNodeAttribute(t,e,n,r){if((0,i.isSVGElement)(e))return"xlink:"===n.substr(0,6)&&(n=n.substr(6)),void(null===r?this.app.send((0,s.RemoveNodeAttribute)(t,n)):"href"===n?(r.length>1e5&&(r=""),this.app.send((0,s.SetNodeAttributeURLBased)(t,n,r,this.app.getBaseHref()))):this.app.send((0,s.SetNodeAttribute)(t,n,r)));"src"!==n&&"srcset"!==n&&"integrity"!==n&&"crossorigin"!==n&&"autocomplete"!==n&&"on"!==n.substr(0,2)&&("value"===n&&(0,i.hasTag)(e,"INPUT")&&"button"!==e.type&&"reset"!==e.type&&"submit"!==e.type||(null!==r?"style"===n||"href"===n&&(0,i.hasTag)(e,"LINK")?this.app.send((0,s.SetNodeAttributeURLBased)(t,n,r,this.app.getBaseHref())):(("href"===n||r.length>1e5)&&(r=""),this.app.send((0,s.SetNodeAttribute)(t,n,r))):this.app.send((0,s.RemoveNodeAttribute)(t,n))))}sendNodeData(t,e,n){(0,i.hasTag)(e,"STYLE")||(0,i.hasTag)(e,"style")?this.app.send((0,s.SetCSSDataURLBased)(t,n,this.app.getBaseHref())):(n=this.app.sanitizer.sanitize(t,n),this.app.send((0,s.SetNodeData)(t,n)))}bindNode(t){const[e,n]=this.app.nodes.registerNode(t);n?this.recents.set(e,a.New):this.recents.get(e)!==a.New&&this.recents.set(e,a.Removed)}bindTree(t){if(!o(t))return;this.bindNode(t);const e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:t=>r(t)||void 0!==this.app.nodes.getID(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;e.nextNode();)this.bindNode(e.currentNode)}unbindTree(t){const e=this.app.nodes.unregisterNode(t);if(void 0!==e&&this.recents.get(e)===a.Removed){this.app.send((0,s.RemoveNode)(e));const n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT+NodeFilter.SHOW_TEXT,{acceptNode:t=>r(t)||void 0===this.app.nodes.getID(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},!1);for(;n.nextNode();)this.app.nodes.unregisterNode(n.currentNode)}}_commitNode(t,e){if((0,i.isRootNode)(e))return!0;const n=e.parentNode;let r;if(!(0,i.hasTag)(e,"HTML")||!this.isTopContext){if(null===n)return this.unbindTree(e),!1;if(r=this.app.nodes.getID(n),void 0===r)return this.unbindTree(e),!1;if(!this.commitNode(r))return this.unbindTree(e),!1;if(this.app.sanitizer.handleNode(t,r,e),this.app.sanitizer.isHidden(r))return!1}let o=e.previousSibling;for(;null!==o;){const e=this.app.nodes.getID(o);if(void 0!==e){this.commitNode(e),this.indexes[t]=this.indexes[e]+1;break}o=o.previousSibling}null===o&&(this.indexes[t]=0);const c=this.recents.get(t),u=c===a.New,l=this.indexes[t];if(void 0===l)throw"commitNode: missing node index";if(u){if((0,i.isElementNode)(e)){let n=e;if(void 0!==r){if(this.app.sanitizer.isHidden(t)){const t=n.clientWidth,s=n.clientHeight;n=e.cloneNode(),n.style.width=`${t}px`,n.style.height=`${s}px`}this.app.send((0,s.CreateElementNode)(t,r,l,n.tagName,(0,i.isSVGElement)(e)))}for(let e=0;e<n.attributes.length;e++){const s=n.attributes[e];this.sendNodeAttribute(t,n,s.nodeName,s.value)}}else(0,i.isTextNode)(e)&&(this.app.send((0,s.CreateTextNode)(t,r,l)),this.sendNodeData(t,n,e.data));return!0}c===a.Removed&&void 0!==r&&this.app.send((0,s.MoveNode)(t,r,l));const d=this.attributesMap.get(t);if(void 0!==d){if(!(0,i.isElementNode)(e))throw"commitNode: node is not an element";for(const n of d)this.sendNodeAttribute(t,e,n,e.getAttribute(n))}if(this.textSet.has(t)){if(!(0,i.isTextNode)(e))throw"commitNode: node is not a text";this.sendNodeData(t,n,e.data)}return!0}commitNode(t){const e=this.app.nodes.getNode(t);if(void 0===e)return!1;const n=this.commited[t];return void 0!==n?n:this.commited[t]=this._commitNode(t,e)}commitNodes(t=!1){let e;this.recents.forEach(((n,s)=>{this.commitNode(s),n===a.New&&(e=this.app.nodes.getNode(s))&&this.app.nodes.callNodeCallbacks(e,t)})),this.clear()}observeRoot(t,e,n=t){this.observer.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0,attributeOldValue:!1,characterDataOldValue:!1}),this.bindTree(n),e(this.app.nodes.getID(t)),this.commitNodes(!0)}disconnect(){this.observer.disconnect(),this.clear()}}},445:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5223),i=n(5264);class r extends s.default{observe(t){const e=t.shadowRoot,n=this.app.nodes.getID(t);e&&void 0!==n&&this.observeRoot(e,(t=>{void 0!==t?this.app.send((0,i.CreateIFrameDocument)(n,t)):console.log("OpenReplay: Shadow Root was not bound")}))}}e.default=r},2730:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5223),i=n(9650),r=n(7422),o=n(445),a=n(2394),c=n(5264),u=n(6859),l=u.IN_BROWSER?Element.prototype.attachShadow:()=>new ShadowRoot;class d extends s.default{constructor(t,e){super(t,!0),this.iframeOffsets=new a.default,this.contextCallbacks=[],this.contextsSet=new Set,this.iframeObservers=[],this.shadowRootObservers=[],this.options=Object.assign({captureIFrames:!0},e),this.app.nodes.attachNodeCallback((t=>{(0,i.hasTag)(t,"IFRAME")&&(this.options.captureIFrames&&!(0,u.hasOpenreplayAttribute)(t,"obscured")||(0,u.hasOpenreplayAttribute)(t,"capture"))&&this.handleIframe(t)})),this.app.nodes.attachNodeCallback((t=>{(0,i.isElementNode)(t)&&null!==t.shadowRoot&&this.handleShadowRoot(t.shadowRoot)}))}attachContextCallback(t){this.contextCallbacks.push(t)}getDocumentOffset(t){return this.iframeOffsets.getDocumentOffset(t)}handleIframe(t){let e=null;const n=this.app.safe((()=>setTimeout((()=>{if(void 0===this.app.nodes.getID(t))return;const n=t.contentWindow,s=t.contentDocument;if(s&&s!==e){const n=new r.default(this.app);this.iframeObservers.push(n),n.observe(t),e=s,this.iframeOffsets.observe(t)}n&&n===n.window&&!this.contextsSet.has(n)&&(this.contextsSet.add(n),this.contextCallbacks.forEach((t=>t(n))))}),0)));t.addEventListener("load",n),n()}handleShadowRoot(t){const e=new o.default(this.app);this.shadowRootObservers.push(e),e.observe(t.host)}observe(){const t=this;Element.prototype.attachShadow=function(){const e=l.apply(this,arguments);return t.handleShadowRoot(e),e},this.observeRoot(window.document,(()=>{this.app.send((0,c.CreateDocument)()),this.app.nodes.callNodeCallbacks(document,!0)}),window.document.documentElement)}disconnect(){this.iframeOffsets.clear(),Element.prototype.attachShadow=l,this.iframeObservers.forEach((t=>t.disconnect())),this.iframeObservers=[],this.shadowRootObservers.forEach((t=>t.disconnect())),this.shadowRootObservers=[],super.disconnect()}}e.default=d},1866:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SanitizeLevel=void 0;const s=n(6859),i=n(9650);var r;!function(t){t[t.Plain=0]="Plain",t[t.Obscured=1]="Obscured",t[t.Hidden=2]="Hidden"}(r=e.SanitizeLevel||(e.SanitizeLevel={}));e.default=class{constructor(t,e){this.app=t,this.obscured=new Set,this.hidden=new Set,this.options=Object.assign({obscureTextEmails:!0,obscureTextNumbers:!1},e)}handleNode(t,e,n){if((this.obscured.has(e)||(0,i.isElementNode)(n)&&((0,s.hasOpenreplayAttribute)(n,"masked")||(0,s.hasOpenreplayAttribute)(n,"obscured")))&&this.obscured.add(t),(this.hidden.has(e)||(0,i.isElementNode)(n)&&((0,s.hasOpenreplayAttribute)(n,"htmlmasked")||(0,s.hasOpenreplayAttribute)(n,"hidden")))&&this.hidden.add(t),void 0!==this.options.domSanitizer&&(0,i.isElementNode)(n)){const e=this.options.domSanitizer(n);e===r.Obscured&&this.obscured.add(t),e===r.Hidden&&this.hidden.add(t)}}sanitize(t,e){return this.obscured.has(t)?e.trim().replace(/[^\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]/g,"\u2588"):(this.options.obscureTextNumbers&&(e=e.replace(/\d/g,"0")),this.options.obscureTextEmails&&(e=e.replace(/([^\s]+)@([^\s]+)\.([^\s]+)/g,((...t)=>(0,s.stars)(t[1])+"@"+(0,s.stars)(t[2])+"."+(0,s.stars)(t[3])))),e)}isObscured(t){return this.obscured.has(t)}isHidden(t){return this.hidden.has(t)}getInnerTextSecure(t){const e=this.app.nodes.getID(t);return e?this.sanitize(e,t.innerText):""}clear(){this.obscured.clear(),this.hidden.clear()}}},1069:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t,e){this.app=t,this.options=e,this.metadata={},this.userID=null,this.callbacks=[],this.timestamp=0}attachUpdateCallback(t){this.callbacks.push(t)}handleUpdate(t){null==t.userID&&delete t.userID,null==t.sessionID&&delete t.sessionID,this.callbacks.forEach((e=>e(t)))}assign(t){void 0!==t.userID&&(this.userID=t.userID),void 0!==t.metadata&&Object.entries(t.metadata).forEach((([t,e])=>this.metadata[t]=e)),void 0!==t.sessionID&&(this.sessionID=t.sessionID),void 0!==t.timestamp&&(this.timestamp=t.timestamp),void 0!==t.projectID&&(this.projectID=t.projectID),this.handleUpdate(t)}setMetadata(t,e){this.metadata[t]=e,this.handleUpdate({metadata:{[t]:e}})}setUserID(t){this.userID=t,this.handleUpdate({userID:t})}getPageNumber(){const t=this.app.sessionStorage.getItem(this.options.session_pageno_key);if(null!=t)return parseInt(t)}incPageNo(){let t=this.getPageNumber();return void 0===t?t=0:t++,this.app.sessionStorage.setItem(this.options.session_pageno_key,t.toString()),t}getSessionToken(){return this.app.sessionStorage.getItem(this.options.session_token_key)||void 0}setSessionToken(t){this.app.sessionStorage.setItem(this.options.session_token_key,t)}applySessionHash(t){const e=decodeURI(t).split("&");let n=t,s="100500";2==e.length&&([s,n]=e),s&&n&&(this.app.sessionStorage.setItem(this.options.session_token_key,n),this.app.sessionStorage.setItem(this.options.session_pageno_key,s))}getSessionHash(){const t=this.getPageNumber(),e=this.getSessionToken();if(void 0!==t&&void 0!==e)return encodeURI(String(t)+"&"+e)}getInfo(){return{sessionID:this.sessionID,metadata:this.metadata,userID:this.userID,timestamp:this.timestamp,projectID:this.projectID}}reset(){this.app.sessionStorage.removeItem(this.options.session_token_key),this.metadata={},this.userID=null,this.sessionID=void 0,this.timestamp=0}}},3285:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.app=t,this.timer=null,this.callbacks=[]}attach(t,e=0,n=!0,s){s&&(t=t.bind(s)),n&&(t=this.app.safe(t)),this.callbacks.unshift(e?function(t,e){let n=0;return()=>{n++>=e&&(n=0,t())}}(t,e):t)}start(){null===this.timer&&(this.timer=setInterval((()=>this.callbacks.forEach((t=>{t&&t()}))),30))}stop(){null!==this.timer&&(clearInterval(this.timer),this.timer=null)}}},3682:(t,e,n)=>{"use strict";const s=n(318);var i=n(318);const r=n(5264);n(5264);var o=n(1866);const a=n(6724),c=n(882),u=n(8185),l=n(5969),d=n(7970),h=n(5650),p=n(6465),f=n(8049),m=n(6508),g=n(4892),S=n(2906),v=n(1324),b=n(9753),y=n(6981),w=n(6859),N="/installation/setup-or";e.ZP=class{constructor(t){if(this.options=t,this.app=null,this.handleError=(t,e={})=>{if(null!==this.app)if(t instanceof Error){const n=(0,u.getExceptionMessage)(t,[],e);this.app.send(n)}else if(t instanceof ErrorEvent||"PromiseRejectionEvent"in window&&t instanceof PromiseRejectionEvent){const n=(0,u.getExceptionMessageFromEvent)(t,void 0,e);null!=n&&this.app.send(n)}},!w.IN_BROWSER||!function(t){if(null==t)return console.error(`OpenReplay: invalid options argument type. Please, check documentation on ${w.DOCS_HOST}${N}`),!1;if("string"!=typeof t.projectKey)if("number"!=typeof t.projectKey){if("number"!=typeof t.projectID)return console.error(`OpenReplay: projectKey is missing or wrong type (string is expected). Please, check ${w.DOCS_HOST}${N} for more information.`),!1;t.projectKey=t.projectID.toString(),(0,w.deprecationWarn)("`projectID` option","`projectKey` option",N)}else console.warn("OpenReplay: projectKey is expected to have a string type."),t.projectKey=t.projectKey.toString();return null!=t.sessionToken&&(0,w.deprecationWarn)("`sessionToken` option","`sessionHash` start() option","/"),!0}(t))return;if(window.__OPENREPLAY__)return void console.error("OpenReplay: one tracker instance has been initialised already");if(!t.__DISABLE_SECURE_MODE&&"https:"!==location.protocol)return void console.error("OpenReplay: Your website must be publicly accessible and running on SSL in order for OpenReplay to properly capture and replay the user session. You can disable this check by setting `__DISABLE_SECURE_MODE` option to `true` if you are testing in localhost. Keep in mind, that asset files on a local machine are not available to the outside world. This might affect tracking if you use css files.");const e=t.respectDoNotTrack&&("1"==navigator.doNotTrack||"1"==window.doNotTrack),n=this.app=!e&&"Map"in window&&"Set"in window&&"MutationObserver"in window&&"performance"in window&&"timing"in performance&&"startsWith"in String.prototype&&"Blob"in window&&"Worker"in window?new s.default(t.projectKey,t.sessionToken,t):null;if(null!==n){if((0,g.default)(n),(0,S.default)(n),(0,y.default)(n),(0,a.default)(n),(0,c.default)(n,t),(0,u.default)(n,t),(0,l.default)(n),(0,d.default)(n,t),(0,h.default)(n),(0,p.default)(n,t),(0,f.default)(n,t),(0,m.default)(n),(0,v.default)(n),(0,b.default)(n),window.__OPENREPLAY__=this,t.autoResetOnWindowOpen){const t=window.open;n.attachStartCallback((()=>{window.open=function(...e){n.resetNextPageSession(!0),t.call(window,...e),n.resetNextPageSession(!1)}})),n.attachStopCallback((()=>{window.open=t}))}}else{console.log("OpenReplay: browser doesn't support API required for tracking or doNotTrack is set to 1.");const n=new XMLHttpRequest,i=t.ingestPoint||s.DEFAULT_INGEST_POINT;n.open("POST",i+"/v1/web/not-started"),n.send(JSON.stringify({trackerVersion:"4.1.8",projectKey:t.projectKey,doNotTrack:e}))}}use(t){return t(this.app,this.options)}isActive(){return null!==this.app&&this.app.active()}start(t){return w.IN_BROWSER?null===this.app?Promise.reject("Browser doesn't support required api, or doNotTrack is active."):this.app.start(t):(console.error(`OpenReplay: you are trying to start Tracker on a node.js environment. If you want to use OpenReplay with SSR, please, use componentDidMount or useEffect API for placing the \`tracker.start()\` line. Check documentation on ${w.DOCS_HOST}${N}`),Promise.reject("Trying to start not in browser."))}stop(){if(null!==this.app)return this.app.stop(),this.app.session.getSessionHash()}getSessionToken(){return null===this.app?null:this.app.getSessionToken()}getSessionID(){return null===this.app?null:this.app.getSessionID()}sessionID(){return(0,w.deprecationWarn)("'sessionID' method","'getSessionID' method","/"),this.getSessionID()}getSessionURL(){if(null!==this.app)return this.app.getSessionURL()}setUserID(t){"string"==typeof t&&null!==this.app&&this.app.session.setUserID(t)}userID(t){(0,w.deprecationWarn)("'userID' method","'setUserID' method","/"),this.setUserID(t)}setUserAnonymousID(t){"string"==typeof t&&null!==this.app&&this.app.send((0,r.UserAnonymousID)(t))}userAnonymousID(t){(0,w.deprecationWarn)("'userAnonymousID' method","'setUserAnonymousID' method","/"),this.setUserAnonymousID(t)}setMetadata(t,e){"string"==typeof t&&"string"==typeof e&&null!==this.app&&this.app.session.setMetadata(t,e)}metadata(t,e){(0,w.deprecationWarn)("'metadata' method","'setMetadata' method","/"),this.setMetadata(t,e)}event(t,e=null,n=!1){if("string"==typeof t&&null!==this.app){if(n)return this.issue(t,e);try{e=JSON.stringify(e)}catch(s){return}this.app.send((0,r.RawCustomEvent)(t,e))}}issue(t,e=null){if("string"==typeof t&&null!==this.app){try{e=JSON.stringify(e)}catch(n){return}this.app.send((0,r.CustomIssue)(t,e))}}}},6724:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5264);e.default=function(t){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(void 0===e)return;const n=()=>t.send((0,s.ConnectionInformation)(Math.round(1e3*e.downlink),e.type||"unknown"));n(),e.addEventListener("change",n)}},882:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(6859),i=n(5264),r=s.IN_BROWSER&&"InstallTrigger"in window?t=>t.message+"\n"+t.stack:t=>t.stack||t.message;function o(t){return void 0===t?"undefined":null===t?"null":t instanceof Error?r(t):Array.isArray(t)?`Array(${t.length})`:String(t)}function a(t){if(void 0===t)return"undefined";if(null===t)return"null";if(t instanceof Error)return r(t);if(Array.isArray(t)){return`Array(${t.length})[${t.slice(0,10).map(o).join(", ")}]`}if("object"==typeof t){const e=[];let n=0;for(const s in t){if(10==++n)break;const i=t[s];e.push(s+": "+o(i))}return"{"+e.join(", ")+"}"}return t.toString()}function c(t){return"string"==typeof t[0]&&t.unshift(t.shift().replace(/%(o|s|f|d|i)/g,((e,n)=>{const s=t.shift();if(void 0===s)return e;switch(n){case"o":return a(s);case"s":return o(s);case"f":return function(t){return"number"!=typeof t?"NaN":t.toString()}(s);case"d":case"i":return function(t){return"number"!=typeof t?"NaN":Math.floor(t).toString()}(s);default:return e}}))),t.map(a).join(" ")}const u=["log","info","warn","error","debug","assert"];e.default=function(t,e){const n=Object.assign({consoleMethods:u,consoleThrottling:30},e);if(!Array.isArray(n.consoleMethods)||0===n.consoleMethods.length)return;const s=t.safe(((e,n)=>t.send((0,i.ConsoleLog)(e,c(n)))));let r;const o=()=>{r=0};t.attachStartCallback(o),t.ticker.attach(o,33,!1);const a=e=>n.consoleMethods.forEach((i=>{if(-1===u.indexOf(i))return void t.debug.error(`OpenReplay: unsupported console method "${i}"`);const o=e[i];e[i]=function(...t){o.apply(this,t),r++>n.consoleThrottling||s(i,t)}})),l=t.safe((t=>a(t.console)));l(window),t.observer.attachContextCallback(l)}},6981:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.styleSheetIDMap=e.nextID=void 0;const s=n(5264),i=n(9650);function r(t){return(0,i.isRootNode)(t)&&!!t.adoptedStyleSheets}let o=15;function a(){return o++}e.nextID=a,e.styleSheetIDMap=new Map,e.default=function(t){if(null===t)return;if(!r(document))return;const e=new Map,n=new Map,i=i=>setTimeout((()=>{let r=t.nodes.getID(i);if(i===document&&(r=0),void 0===r)return;let o=n.get(r);o||(o=[]);const c=[],u=i.adoptedStyleSheets;for(const n of u){let i=e.get(n);const u=!i;if(i||(i=a(),e.set(n,i)),o.includes(i)||t.send((0,s.AdoptedSSAddOwner)(i,r)),u){const e=n.cssRules;for(let n=0;n<e.length;n++)t.send((0,s.AdoptedSSInsertRuleURLBased)(i,e[n].cssText,n,t.getBaseHref()))}c.push(i)}for(const e of o)c.includes(e)||t.send((0,s.AdoptedSSRemoveOwner)(e,r));n.set(r,c)}),20);function o(t){const e=Object.getOwnPropertyDescriptor(t,"adoptedStyleSheets");e&&Object.defineProperty(t,"adoptedStyleSheets",Object.assign(Object.assign({},e),{set:function(t){const n=e.set.call(this,t);return i(this),n}}))}const c=n=>{if(n.__openreplay_adpss_patched__)return;n.__openreplay_adpss_patched__=!0,o(n.Document.prototype),o(n.ShadowRoot.prototype);const{replace:i,replaceSync:r}=n.CSSStyleSheet.prototype;n.CSSStyleSheet.prototype.replace=function(n){return i.call(this,n).then((i=>{const r=e.get(this);return r&&t.send((0,s.AdoptedSSReplaceURLBased)(r,n,t.getBaseHref())),i}))},n.CSSStyleSheet.prototype.replaceSync=function(n){const i=e.get(this);return i&&t.send((0,s.AdoptedSSReplaceURLBased)(i,n,t.getBaseHref())),r.call(this,n)}};c(window),t.observer.attachContextCallback(t.safe(c)),t.attachStopCallback((()=>{e.clear(),n.clear()})),t.attachStartCallback((()=>{i(document)})),t.nodes.attachNodeCallback((t=>{r(t)&&i(t)}))}},2906:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5264),i=n(9650),r=n(6981);e.default=function(t){if(null===t)return;if(!window.CSSStyleSheet)return void t.send((0,s.TechnicalInfo)("no_stylesheet_prototype_in_window",""));const e=t.safe(((e,n,i)=>{const o=r.styleSheetIDMap.get(e);o&&("string"==typeof i?t.send((0,s.AdoptedSSInsertRuleURLBased)(o,i,n,t.getBaseHref())):t.send((0,s.AdoptedSSDeleteRule)(o,n)))})),n=t.safe((e=>{let n=e;for(;n.parentRule;)n=n.parentRule;const i=n.parentStyleSheet;if(!i)return void t.debug.warn("No parent StyleSheet found for",n,e);const o=r.styleSheetIDMap.get(i);if(!o)return void t.debug.warn("No sheedID found for",i,r.styleSheetIDMap);const a=n.cssText,c=i.cssRules,u=Array.from(c).indexOf(n);u>=0?(t.send((0,s.AdoptedSSInsertRuleURLBased)(o,a,u,t.getBaseHref())),t.send((0,s.AdoptedSSDeleteRule)(o,u+1))):t.debug.warn("Rule index not found in",i,n)})),o=t.safe((t=>{const{insertRule:s,deleteRule:i}=t.CSSStyleSheet.prototype,{insertRule:r,deleteRule:o}=t.CSSGroupingRule.prototype;t.CSSStyleSheet.prototype.insertRule=function(t,n=0){return e(this,n,t),s.call(this,t,n)},t.CSSStyleSheet.prototype.deleteRule=function(t){return e(this,t),i.call(this,t)},t.CSSGroupingRule.prototype.insertRule=function(t,e=0){const s=r.call(this,t,e);return n(this),s},t.CSSGroupingRule.prototype.deleteRule=function(t=0){const e=o.call(this,t);return n(this),e}}));o(window),t.observer.attachContextCallback(o),t.nodes.attachNodeCallback((n=>{if(!(0,i.hasTag)(n,"STYLE")&&!(0,i.hasTag)(n,"style")||!n.sheet)return;if(null!==n.textContent&&n.textContent.trim().length>0)return;const o=t.nodes.getID(n);if(!o)return;const a=n.sheet,c=(0,r.nextID)();r.styleSheetIDMap.set(a,c),t.send((0,s.AdoptedSSAddOwner)(c,o));const u=a.cssRules;for(let t=0;t<u.length;t++)e(a,t,u[t].cssText)}))}},8185:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getExceptionMessageFromEvent=e.getExceptionMessage=void 0;const s=n(5264),i=n(1932);function r(t){return[{columnNumber:t.colno,lineNumber:t.lineno,fileName:t.filename,functionName:"",source:""}]}function o(t,e,n={}){let r=e;try{r=i.default.parse(t)}catch(o){}return(0,s.JSException)(t.name,t.message,JSON.stringify(r),JSON.stringify(n))}function a(t,e=window,n={}){if(t instanceof ErrorEvent){if(t.error instanceof Error)return o(t.error,r(t),n);{let[e,i]=t.message.split(":");return i||(e="Error",i=t.message),(0,s.JSException)(e,i,JSON.stringify(r(t)),JSON.stringify(n))}}if("PromiseRejectionEvent"in e&&t instanceof e.PromiseRejectionEvent){if(t.reason instanceof Error)return o(t.reason,[],n);{let e;try{e=JSON.stringify(t.reason)}catch(i){e=String(t.reason)}return(0,s.JSException)("Unhandled Promise Rejection",e,"[]",JSON.stringify(n))}}return null}e.getExceptionMessage=o,e.getExceptionMessageFromEvent=a,e.default=function(t,e){function n(e){function n(n){const s=a(n,e);null!=s&&t.send(s)}t.attachEventListener(e,"unhandledrejection",n),t.attachEventListener(e,"error",n)}Object.assign({captureExceptions:!0},e).captureExceptions&&(t.observer.attachContextCallback(n),n(window))}},1324:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(9650),i=n(5264);e.default=function(t){function e(e){const n=t.nodes.getID(e);void 0!==n&&t.send((0,i.SetNodeFocus)(n))}let n=!1;t.nodes.attachNodeCallback((r=>{(0,s.hasTag)(r,"BODY")&&(t.nodes.attachNodeListener(r,"focus",(t=>{(0,s.isNode)(t.target)&&(e(t.target),n=!1)})),t.nodes.attachNodeListener(r,"blur",(e=>{null===e.relatedTarget&&(n=!0,setTimeout((()=>{n&&t.send((0,i.SetNodeFocus)(-1))}),0))})))})),t.attachStartCallback((()=>{let t=document.activeElement;for(;t&&(0,s.hasTag)(t,"IFRAME")&&t.contentDocument;)t=t.contentDocument.activeElement;t&&t!==t.ownerDocument.body&&e(t)}),!0)}},9753:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(9650),i=n(5264);e.default=function(t){if(!window.FontFace)return;const e=new Map,n=n=>{class s extends n.FontFace{constructor(...s){if("string"==typeof s[1]){let r="";s[2]&&t.safe((()=>{r=JSON.stringify(s[2])}));const o=[s[0],s[1],r],a=e.get(n.document)||[];a.push(o),e.set(n.document,a);const c=n===window?0:t.nodes.getID(n.document);if(void 0===c)return;t.active()&&t.send((0,i.LoadFontFace)(c,...o))}super(...s)}}n.FontFace=s};t.observer.attachContextCallback(n),n(window),t.nodes.attachNodeCallback((n=>{if(!(0,s.isDocument)(n))return;const r=e.get(n);if(!r)return;const o=n.defaultView===window?0:t.nodes.getID(n);void 0!==o&&r.forEach((e=>{t.send((0,i.LoadFontFace)(o,...e))}))}))}},5969:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(6859),i=n(5264),r=n(9650);function o(t,e=document.location){return(t=t.trim()).startsWith("/")?e.origin+t:t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:e.origin+e.pathname+t}e.default=function(t){function e(e,n){t.send((0,i.SetNodeAttribute)(e,"src","https://static.openreplay.com/tracker/placeholder.jpeg"));const{width:s,height:r}=n.getBoundingClientRect();n.hasAttribute("width")||t.send((0,i.SetNodeAttribute)(e,"width",String(s))),n.hasAttribute("height")||t.send((0,i.SetNodeAttribute)(e,"height",String(r)))}const n=function(e,n){const{srcset:s}=n;if(!s)return;const r=s.split(",").map((t=>o(t))).join(",");t.send((0,i.SetNodeAttribute)(e,"srcset",r))},a=function(n,r){r.src.length>s.MAX_STR_LEN&&e(n,r),t.send((0,i.SetNodeAttributeURLBased)(n,"src",r.src,t.getBaseHref()))},c=t.safe((function(e){const n=o(e.src||"");(0,s.isURL)(n)&&t.send((0,i.ResourceTiming)(t.timestamp(),0,0,0,0,0,n,"img"))})),u=t.safe((function(i){const r=t.nodes.getID(i);var o;void 0!==r&&(i.complete&&(0!==i.naturalHeight||0!==i.naturalWidth||(o=i.src,s.IS_FIREFOX&&(o.startsWith("data:image/svg+xml")||o.match(/.svg$|/i)))?t.sanitizer.isHidden(r)||t.sanitizer.isObscured(r)?e(r,i):(a(r,i),n(r,i)):c(i)))})),l=new MutationObserver((e=>{for(const s of e)if("attributes"===s.type){const e=s.target,i=t.nodes.getID(e);if(void 0===i)return;"src"===s.attributeName&&a(i,e),"srcset"===s.attributeName&&n(i,e)}}));t.attachStopCallback((()=>{l.disconnect()})),t.nodes.attachNodeCallback((e=>{(0,r.hasTag)(e,"IMG")&&(t.nodes.attachNodeListener(e,"error",(()=>c(e))),t.nodes.attachNodeListener(e,"load",(()=>u(e))),u(e),l.observe(e,{attributes:!0,attributeFilter:["src","srcset"]}))}))}},7970:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInputLabel=void 0;const s=n(6859),i=n(9650),r=n(5264),o=["text","password","email","search","number","range","date"];function a(t){return!!(0,i.hasTag)(t,"TEXTAREA")||!!(0,i.hasTag)(t,"INPUT")&&o.includes(t.type)}function c(t){if(!(0,i.hasTag)(t,"INPUT"))return!1;const e=t.type;return"checkbox"===e||"radio"===e}const u=s.IN_BROWSER&&"labels"in HTMLInputElement.prototype?t=>{let e=t;for(;null!==(e=e.parentNode);)if((0,i.hasTag)(e,"LABEL"))return e;const n=t.labels;if(null!==n&&1===n.length)return n[0]}:t=>{let e=t;for(;null!==(e=e.parentNode);)if((0,i.hasTag)(e,"LABEL"))return e;const n=t.id;if(n){const e=t.ownerDocument.querySelectorAll('label[for="'+n+'"]');if(null!==e&&1===e.length)return e[0]}};function l(t){let e=(0,s.getLabelAttribute)(t);if(null===e){const n=u(t);e=n&&n.innerText||t.placeholder||t.name||t.id||t.className||t.type}return(0,s.normSpaces)(e).slice(0,100)}e.getInputLabel=l,e.default=function(t,e){const n=Object.assign({obscureInputNumbers:!0,obscureInputEmails:!0,defaultInputMode:0,obscureInputDates:!1},e);function s(e,s){let i=s.value,o=n.defaultInputMode;"password"===s.type||t.sanitizer.isHidden(e)?o=2:(t.sanitizer.isObscured(e)||0===o&&(n.obscureInputNumbers&&"date"!==s.type&&/\d\d\d\d/.test(i)||n.obscureInputDates&&"date"===s.type||n.obscureInputEmails&&("email"===s.type||~i.indexOf("@"))))&&(o=1);let a=0;switch(o){case 2:a=-1,i="";break;case 1:a=i.length,i=""}t.send((0,r.SetInputValue)(e,i,a))}const o=new Map,u=new Map,d=new Set;t.attachStopCallback((()=>{o.clear(),u.clear(),d.clear()})),t.ticker.attach((()=>{o.forEach(((e,n)=>{const i=t.nodes.getNode(n);i&&(a(i)?e!==i.value&&(o.set(n,i.value),d.has(n)||(d.add(n),function(e,n){const s=l(n);""!==s&&t.send((0,r.SetInputTarget)(e,s))}(n,i)),s(n,i)):o.delete(n))})),u.forEach(((e,n)=>{const s=t.nodes.getNode(n);s&&(c(s)?e!==s.checked&&(u.set(n,s.checked),t.send((0,r.SetInputChecked)(n,s.checked))):u.delete(n))}))})),t.ticker.attach(Set.prototype.clear,100,!1,d),t.nodes.attachNodeCallback(t.safe((e=>{const n=t.nodes.getID(e);if(void 0!==n)return(0,i.hasTag)(e,"SELECT")&&(s(n,e),t.attachEventListener(e,"change",(()=>{s(n,e)}))),a(e)?(o.set(n,e.value),void s(n,e)):c(e)?(u.set(n,e.checked),void t.send((0,r.SetInputChecked)(n,e.checked))):void 0})))}},5650:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(9650),i=n(6859),r=n(5264),o=n(7970);function a(t){const e=t.tagName.toUpperCase();return"BUTTON"===e||"A"===e||"LI"===e||"SELECT"===e||null!=t.onclick||"button"===t.getAttribute("role")}function c(t,e){return t instanceof Element?function(t,e){let n=t;for(;null!==n&&n!==e.documentElement;){if((0,i.hasOpenreplayAttribute)(n,"masked"))return null;n=n.parentElement}if((0,s.isSVGElement)(t)){let e=t.ownerSVGElement;for(;null!==e;)t=e,e=e.ownerSVGElement}n=t;for(;null!==n&&n!==e.documentElement;){const t=n.tagName.toUpperCase();if("LABEL"===t)return null;if("INPUT"===t)return n;if(a(n)||null!==(0,i.getLabelAttribute)(n))return n;n=n.parentElement}return t===e.documentElement?null:t}(t,e):null}e.default=function(t){let e=-1,n=-1,u=!1,l=null,d=0,h={};t.attachStopCallback((()=>{e=-1,n=-1,u=!1,l=null,h={}}));const p=()=>{u&&(t.send((0,r.MouseMove)(e,n)),u=!1)},f=(f,m=!1)=>{const g=m?t.attachEventListener.bind(t):t.nodes.attachNodeListener.bind(t.nodes);g(f.documentElement,"mouseover",(t=>{const e=c(t.target,f);e!==l&&(l=e,d=performance.now())})),g(f,"mousemove",(s=>{const[i,r]=t.observer.getDocumentOffset(f);e=s.clientX+i,n=s.clientY+r,u=!0}),!1),g(f,"click",(e=>{const n=c(e.target,f);if(!e.clientX&&!e.clientY||null===n)return;const u=t.nodes.getID(n);void 0!==u&&(p(),t.send((0,r.MouseClick)(u,l===n?Math.round(performance.now()-d):0,function(e){const n=(0,i.getLabelAttribute)(e);if(null!==n)return n;if((0,s.hasTag)(e,"INPUT"))return(0,o.getInputLabel)(e);if(a(e)){let n="";return e instanceof HTMLElement&&(n=t.sanitizer.getInnerTextSecure(e)),n=n||e.id||e.className,(0,i.normSpaces)(n).slice(0,100)}return""}(n),function(t,e){return h[t]=h[t]||function(t,e){let n=t,s=null;do{if(n.id)return`#${n.id}`+(s?` > ${s}`:"");if(s=n.className.split(" ").map((t=>t.trim())).filter((t=>""!==t)).reduce(((t,e)=>`${t}.${e}`),n.tagName.toLowerCase())+(s?` > ${s}`:""),n===e.body)return s;n=n.parentElement}while(n!==e.body&&null!==n);return s}(e,f)}(u,n)),!0)),l=null}))};t.nodes.attachNodeCallback((t=>{(0,s.isDocument)(t)&&f(t)})),f(document,!0),t.ticker.attach(p,10)}},8049:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jsHeapSizeLimit=e.deviceMemory=void 0;const s=n(6859),i=n(5264),r=s.IN_BROWSER&&"performance"in window&&"memory"in performance?performance:{memory:{}};e.deviceMemory=s.IN_BROWSER?1024*(navigator.deviceMemory||0):0,e.jsHeapSizeLimit=r.memory.jsHeapSizeLimit||0,e.default=function(t,e){if(!Object.assign({capturePerformance:!0},e).capturePerformance)return;let n,s;const o=()=>{void 0!==n&&-1!==n&&(n++,requestAnimationFrame(o))};t.ticker.attach((()=>{void 0!==s&&-1!==s&&s++}),0,!1);const a=()=>{void 0!==n&&void 0!==s&&(t.send((0,i.PerformanceTrack)(n,s,r.memory.totalJSHeapSize||0,r.memory.usedJSHeapSize||0)),s=n=document.hidden?-1:0)};t.attachStartCallback((()=>{s=n=-1,a(),o()})),t.attachStopCallback((()=>{s=n=void 0})),t.ticker.attach(a,40,!1),void 0!==document.hidden&&t.attachEventListener(document,"visibilitychange",a,!1,!1)}},6508:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(5264),i=n(9650);function r(t){const e=t.defaultView;return[e&&e.pageXOffset||t.documentElement&&t.documentElement.scrollLeft||t.body&&t.body.scrollLeft||0,e&&e.pageYOffset||t.documentElement&&t.documentElement.scrollTop||t.body&&t.body.scrollTop||0]}e.default=function(t){let e=!1;const n=new Map;function o(t){(0,i.isNode)(t)&&((0,i.isElementNode)(t)&&n.set(t,[t.scrollLeft,t.scrollTop]),(0,i.isDocument)(t)&&n.set(t,r(t)))}const a=t.safe((()=>t.send((0,s.SetViewportScroll)(...r(document))))),c=t.safe(((e,n)=>{const i=t.nodes.getID(n);void 0!==i&&t.send((0,s.SetNodeScroll)(i,e[0],e[1]))}));t.attachStartCallback(a),t.attachStopCallback((()=>{e=!1,n.clear()})),t.nodes.attachNodeCallback(((e,s)=>{s&&((0,i.isElementNode)(e)&&e.scrollLeft+e.scrollTop>0?n.set(e,[e.scrollLeft,e.scrollTop]):(0,i.isDocument)(e)&&n.set(e,r(e))),(0,i.isRootNode)(e)&&t.nodes.attachNodeListener(e,"scroll",(t=>{o(t.target)}))})),t.attachEventListener(document,"scroll",(t=>{const n=t.target;n!==document?o(n):e=!0})),t.ticker.attach((()=>{e&&(a(),e=!1),n.forEach(c),n.clear()}),5,!1)}},6465:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(9650),i=n(6859),r=n(5264);e.default=function(t,e){const n=Object.assign({captureResourceTimings:!0,capturePageLoadTimings:!0,capturePageRenderTimings:!0},e);if("PerformanceObserver"in window||(n.captureResourceTimings=!1),!n.captureResourceTimings)return;let o={};function a(e){e.duration<0||!(0,i.isURL)(e.name)||t.isServiceURL(e.name)||(null!==o&&(o[e.name]=e.startTime+e.duration),t.send((0,r.ResourceTiming)(e.startTime+performance.timing.navigationStart,e.duration,e.responseStart&&e.startTime?e.responseStart-e.startTime:0,e.transferSize>e.encodedBodySize?e.transferSize-e.encodedBodySize:0,e.encodedBodySize||0,e.decodedBodySize||0,e.name,e.initiatorType)))}const c=new PerformanceObserver((t=>t.getEntries().forEach(a)));let u;t.attachStartCallback((function({sessionID:t}){t!==u&&(performance.getEntriesByType("resource").forEach(a),u=t),c.observe({entryTypes:["resource"]})})),t.attachStopCallback((function(){c.disconnect()}));let l=0,d=0;if(n.capturePageLoadTimings){let e=!1;t.ticker.attach((()=>{if(!e&&(0!==l&&0!==d||performance.getEntriesByType("paint").forEach((t=>{const{name:e,startTime:n}=t;switch(e){case"first-paint":l=n;break;case"first-contentful-paint":d=n}})),performance.timing.loadEventEnd||performance.now()>3e4)){e=!0;const{navigationStart:n,requestStart:s,responseStart:i,responseEnd:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:u,loadEventEnd:h}=performance.timing;t.send((0,r.PageLoadTiming)(s-n||0,i-n||0,o-n||0,a-n||0,c-n||0,u-n||0,h-n||0,l,d))}}),30)}if(n.capturePageRenderTimings){let e=0,n=0,i=0,a=null,c=!1;t.ticker.attach((()=>{if(c)return;const u=performance.now();if(null!==o&&(e=Math.max.apply(null,Object.keys(o).map((t=>o[t]))),u-e>1e3&&(a=function(t){const e=[],n=document.getElementsByTagName("*"),i=/url\(("[^"]*"|'[^']*'|[^)]*)\)/i;for(let r=0;r<n.length;r++){const o=n[r];let a="";if((0,s.hasTag)(o,"IMG")&&(a=o.currentSrc||o.src),!a){const t=getComputedStyle(o).getPropertyValue("background-image");if(t){const e=i.exec(t);null!==e&&(a=e[1],(a.startsWith('"')||a.startsWith("'"))&&(a=a.substr(1,a.length-2)))}}if(!a)continue;const c="data:image"===a.substr(0,10)?0:t[a];if(void 0===c)continue;const u=o.getBoundingClientRect(),l=Math.max(u.top,0),d=Math.max(u.left,0),h=Math.min(u.bottom,window.innerHeight||document.documentElement&&document.documentElement.clientHeight||0),p=Math.min(u.right,window.innerWidth||document.documentElement&&document.documentElement.clientWidth||0);if(h<=l||p<=d)continue;const f=(h-l)*(p-d);e.push({time:c,area:f})}return e}(o),o=null)),null!==i&&(u-i>50&&(n=u),i=u-n>5e3?null:u),null!==a&&null===i||u>3e4){c=!0,o=null;const s=null===a?0:function(t,e){let n=Math.max(document.documentElement&&document.documentElement.clientWidth||0,window.innerWidth||0)*Math.max(document.documentElement&&document.documentElement.clientHeight||0,window.innerHeight||0)/10,s=n*t;for(let i=0;i<e.length;i++){const{time:r,area:o}=e[i];n+=o,s+=o*(r>t?r:t)}return 0===n?0:s/n}(d||l,a),{domContentLoadedEventEnd:u,navigationStart:h}=performance.timing,p=null===i?Math.max(n,d,u-h||0):0;t.send((0,r.PageRenderTiming)(s,d>e?d:e,p))}}))}}},4892:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=n(6859),i=n(5264);e.default=function(t){let e,n,r,o;const a=t.safe((()=>{const{URL:n}=document;n!==e&&(e=n,t.send((0,i.SetPageLocation)(e,document.referrer,o)),o=0)})),c=t.safe((()=>{const{innerWidth:e,innerHeight:s}=window;e===n&&s===r||(n=e,r=s,t.send((0,i.SetViewportSize)(n,r)))})),u=void 0===document.hidden?Function.prototype:t.safe((()=>t.send((0,i.SetPageVisibility)(document.hidden))));t.attachStartCallback((()=>{e="",o=(0,s.getTimeOrigin)(),n=r=-1,a(),c(),u()})),void 0!==document.hidden&&t.attachEventListener(document,"visibilitychange",u,!1,!1),t.ticker.attach(a,1,!1),t.ticker.attach(c,5,!1)}},6859:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasOpenreplayAttribute=e.getLabelAttribute=e.deprecationWarn=e.DOCS_HOST=e.isURL=e.normSpaces=e.stars=e.now=e.getTimeOrigin=e.adjustTimeOrigin=e.MAX_STR_LEN=e.IS_FIREFOX=e.IN_BROWSER=void 0;const n={htmlmasked:"hidden",masked:"obscured"};e.IN_BROWSER=!("undefined"==typeof window),e.IS_FIREFOX=e.IN_BROWSER&&navigator.userAgent.match(/firefox|fxios/i),e.MAX_STR_LEN=1e5;let s=e.IN_BROWSER?Date.now()-performance.now():0;e.adjustTimeOrigin=function(){s=Date.now()-performance.now()},e.getTimeOrigin=function(){return s},e.now=e.IN_BROWSER&&performance.now?()=>Math.round(performance.now()+s):()=>Date.now(),e.stars="repeat"in String.prototype?t=>"*".repeat(t.length):t=>t.replace(/./g,"*"),e.normSpaces=function(t){return t.trim().replace(/\s+/g," ")},e.isURL=function(t){return t.startsWith("https://")||t.startsWith("http://")},e.DOCS_HOST="https://docs.openreplay.com";const i={};function r(t,n,s="/"){i[t]||(console.warn(`OpenReplay: ${t} is deprecated. ${n?`Please, use ${n} instead.`:""} Visit ${e.DOCS_HOST}${s} for more information.`),i[t]=!0)}e.deprecationWarn=r,e.getLabelAttribute=function(t){let e=t.getAttribute("data-openreplay-label");return null!==e||(e=t.getAttribute("data-asayer-label"),null!==e&&r('"data-asayer-label" attribute','"data-openreplay-label" attribute',"/")),e},e.hasOpenreplayAttribute=function(t,e){const s=`data-openreplay-${e}`;return!!t.hasAttribute(s)&&(n[e]&&r(`"${s}" attribute`,`"${n[e]}" attribute`,"/installation/sanitize-data"),!0)}}}]);